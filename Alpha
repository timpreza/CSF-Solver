/* Reference for TCNJ Students */
#include <iostream>
#include <string>
#include <cmath>
#include <math.h>
using namespace std;

int main() {
	// Declare all; initialize one
	int caseNum, forceNum;
	int caseCheck = 1;
	double angle1, angle2, angle3, angle4;
	double force1, force2, force3, force4;
	double f1x, f2x, f3x, f4x, f1y, f2y, f3y, f4y;
	double sumFx, sumFy;
	double resultant, degrees;
	string unitType;
	char axisAngle1, axisAngle2, axisAngle3, axisAngle4;
	char xPositiveF1, xPositiveF2, xPositiveF3, xPositiveF4, yPositiveF1, yPositiveF2, yPositiveF3, yPositiveF4;
	
	// Introduction
	cout << "This program will determine the resultant of concurrent system of forces\n" << endl;
	
	// Get number of cases
	cout << "How many cases/problems?: ";
	cin >> caseNum;
	
	// Loop set of times for caseNum
	while (caseCheck <= caseNum) {
		
		// Get unit type
		cout << "What is the unit type for case " << caseCheck << "?: ";
		cin >> unitType;
		
		// Get number of forces
		cout << "How many forces are there for case " << caseCheck << "? (Max 4): ";
		cin >> forceNum;
		
		// If one total force
		if (forceNum == 1) {
			cout << "DEBUG";
		}
		
		// If two total forces
		else if (forceNum == 2) {
			cout << "DEBUG";
		}
		
		// If three total forces
		else if (forceNum == 3) {
			
			// Get forces
			cout << "What is F1?: ";
			cin >> force1;
			cout << "What is F2?: ";
			cin >> force2;
			cout << "What is F3?: ";
			cin >> force3;
			
			// Get angles
			cout << "What angle is F1?: ";
			cin >> angle1;
			cout << "Where is angle respect to?: ";
			cin >> axisAngle1;
			
			cout << "What angle is F2?: ";
			cin >> angle2;
			cout << "Where is angle respect to?: ";
			cin >> axisAngle2;
			
			cout << "What angle is F3?: ";
			cin >> angle3;
			cout << "Where is angle respect to?: ";
			cin >> axisAngle3;
			
			// Ask if forces is positive/negative respect to x/y axis
			cout << "Is F1 positive to x-axis? (Y/N): ";
			cin >> xPositiveF1;
			cout << "Is F1 positive to y-axis? (Y/N): ";
			cin >> yPositiveF1;
			
			cout << "Is F2 positive to x-axis? (Y/N): ";
			cin >> xPositiveF2;
			cout << "Is F2 positive to y-axis? (Y/N): ";
			cin >> yPositiveF2;
			
			cout << "Is F3 positive to x-axis? (Y/N): ";
			cin >> xPositiveF3;
			cout << "Is F3 positive to y-axis? (Y/N): ";
			cin >> yPositiveF3;
			
			// Convert degrees to radians (C++ interprets inputs as degrees)
			angle1 = angle1 * M_PI / 180;
			angle2 = angle2 * M_PI / 180;
			angle3 = angle3 * M_PI / 180;
			
			// Calculate
			if (axisAngle1 == 'x') {
				f1x = force1 * cos(angle1);
				f1y = force1 * sin(angle1);
			}
			else {
				f1x = force1 * sin(angle1);
				f1y = force1 * cos(angle1);
			}
			if (axisAngle2 == 'x') {
				f2x = force2 * cos(angle2);
				f2y = force2 * sin(angle2);
			}
			else {
				f2x = force2 * sin(angle2);
				f2x = force2 * cos(angle2);
			}
			if (axisAngle3 == 'x') {
				f3x = force3 * cos(angle3);
				f3y = force3 * sin(angle3);
			}
			else {
				f3x = force3 * sin(angle3);
				f3y = force3 * cos(angle3);
			}
			
			// Convert to negative if applicable
			if (xPositiveF1 == 'n') {
				f1x = f1x * -1;
			}
			if (xPositiveF2 == 'n') {
				f2x = f2x * -1;
			}
			if (xPositiveF3 == 'n') {
				f3x = f3x * -1;
			}
			if (yPositiveF1 == 'n') {
				f1y = f1y * -1;
			}
			if (yPositiveF2 == 'n') {
				f2y = f2y * -1;
			}
			if (yPositiveF3 == 'n') {
				f3y = f3y * -1;
			}
			
			// Calculate sum of Fx and Fy
			sumFx = f1x + f2x + f3x;
			sumFy = f1y + f2y + f3y;
			
			// Calculate resultant
			resultant = sqrt(pow(sumFx,2) + pow(sumFy,2));
			
			// Calculate degrees
			degrees = atan2(sumFy, sumFx);
			degrees = degrees * 180 / M_PI;
			
			// Output results
			cout << "The resultant force is " << resultant << "." << endl;
			cout << "The angle is " << degrees << "degrees." << endl;
			
		}
		
		// If four total forces
		else if (forceNum == 4) {
			cout << "DEBUG";
		}
		
		// If five total forces
		else if (forceNum == 5) {
			cout << "DEBUG";
		}
		
		
		// Increment caseCheck
		caseCheck++;
    }		
	
	
	return 0;
}
